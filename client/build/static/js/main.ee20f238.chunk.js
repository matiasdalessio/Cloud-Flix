(this.webpackJsonpchallenge=this.webpackJsonpchallenge||[]).push([[0],{130:function(e,t,s){},131:function(e,t,s){},132:function(e,t,s){},133:function(e,t,s){},134:function(e,t,s){},260:function(e,t,s){},261:function(e,t,s){},262:function(e,t,s){},263:function(e,t,s){},264:function(e,t,s){},265:function(e,t,s){},266:function(e,t,s){},267:function(e,t,s){},289:function(e,t,s){"use strict";s.r(t);var r=s(2),n=s.n(r),c=s(40),a=s.n(c),i=s(3),o=s(24),l=s(25),u=s(27),d=s(26),j=(s(130),s(131),s(132),s(133),s(134),s(5)),b=s(20),h=s(122),p=s.n(h),m=s(1),f=function(){return Object(m.jsx)("div",{className:"contenedorCarrousel",children:Object(m.jsxs)(p.a,Object(i.a)(Object(i.a)({},{pauseOnHover:!0,autoplay:!0,autoplaySpeed:5e3}),{},{children:[Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"section",children:Object(m.jsxs)("div",{className:"hero-slide-item",style:{backgroundImage:'url("../images/transformer-banner.jpg")'},children:[Object(m.jsx)("div",{className:"overlay"}),Object(m.jsx)("div",{className:"hero-slide-item-content",children:Object(m.jsxs)("div",{className:"item-content-wraper",children:[Object(m.jsx)("div",{className:"item-content-title",children:"Transformer"}),Object(m.jsxs)("div",{className:"movie-infos",children:[Object(m.jsxs)("div",{className:"movie-info",children:[Object(m.jsx)("i",{className:"bx bxs-star"}),Object(m.jsx)("span",{children:"4.5"})]}),Object(m.jsxs)("div",{className:"movie-info",children:[Object(m.jsx)("i",{className:"bx bxs-time"}),Object(m.jsx)("span",{children:"154 mins"})]}),Object(m.jsx)("div",{className:"movie-info",children:Object(m.jsx)("span",{children:"HD"})}),Object(m.jsx)("div",{className:"movie-info",children:Object(m.jsx)("span",{children:"13+"})})]}),Object(m.jsx)("div",{className:"item-content-description descriptionDisplayNone",children:"Autobots and Decepticons are at war, with humans on the sidelines. Optimus Prime is gone. The key to saving our future lies buried in the secrets of the past, in the hidden history of Transformers on Earth."})]})})]})})}),Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"section",children:Object(m.jsxs)("div",{className:"hero-slide-item",style:{backgroundImage:'url("../images/wanda-banner.jpg")'},children:[Object(m.jsx)("div",{className:"overlay"}),Object(m.jsx)("div",{className:"hero-slide-item-content",children:Object(m.jsxs)("div",{className:"item-content-wraper",children:[Object(m.jsx)("div",{style:{zIndex:"3"},className:"item-content-title",children:"Wandavision"}),Object(m.jsxs)("div",{className:"movie-infos",children:[Object(m.jsxs)("div",{className:"movie-info",children:[Object(m.jsx)("i",{className:"bx bxs-star"}),Object(m.jsx)("span",{children:"3.5"})]}),Object(m.jsxs)("div",{className:"movie-info",children:[Object(m.jsx)("i",{className:"bx bxs-time"}),Object(m.jsx)("span",{children:"1 Season"})]}),Object(m.jsx)("div",{className:"movie-info",children:Object(m.jsx)("span",{children:"HD"})}),Object(m.jsx)("div",{className:"movie-info",children:Object(m.jsx)("span",{children:"13+"})})]}),Object(m.jsx)("div",{className:"item-content-description descriptionDisplayNone",children:"Wanda Maximoff and Vision\u2014two super-powered beings living idealized suburban lives\u2014begin to suspect that everything is not as it seems."})]})})]})})}),Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"section",children:Object(m.jsxs)("div",{className:"hero-slide-item",style:{backgroundImage:'url("../images/supergirl-banner.jpg")'},children:[Object(m.jsx)("div",{className:"overlay"}),Object(m.jsx)("div",{className:"hero-slide-item-content",children:Object(m.jsxs)("div",{className:"item-content-wraper",children:[Object(m.jsx)("div",{className:"item-content-title",children:"Supergirl"}),Object(m.jsxs)("div",{className:"movie-infos",children:[Object(m.jsxs)("div",{className:"movie-info",children:[Object(m.jsx)("i",{className:"bx bxs-star"}),Object(m.jsx)("span",{children:"4.0"})]}),Object(m.jsxs)("div",{className:"movie-info",children:[Object(m.jsx)("i",{className:"bx bxs-time"}),Object(m.jsx)("span",{children:"6 Seasons"})]}),Object(m.jsx)("div",{className:"movie-info",children:Object(m.jsx)("span",{children:"HD"})}),Object(m.jsx)("div",{className:"movie-info",children:Object(m.jsx)("span",{children:"13+"})})]}),Object(m.jsx)("div",{className:"item-content-description descriptionDisplayNone",children:"Twenty-four-year-old Kara Zor-El, who was taken in by the Danvers family when she was 13 after being sent away from Krypton, must learn to embrace her powers after previously hiding them. The Danvers teach her to be careful with her powers, until she has to reveal them during an unexpected disaster, setting her on her journey of heroism."})]})})]})})}),Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"section",children:Object(m.jsxs)("div",{className:"hero-slide-item",style:{backgroundImage:'url("../images/black-banner.png")'},children:[Object(m.jsx)("div",{className:"overlay"}),Object(m.jsx)("div",{className:"hero-slide-item-content",children:Object(m.jsxs)("div",{className:"item-content-wraper",children:[Object(m.jsx)("div",{className:"item-content-title",children:"Black Panther"}),Object(m.jsxs)("div",{className:"movie-infos",children:[Object(m.jsxs)("div",{className:"movie-info",children:[Object(m.jsx)("i",{className:"bx bxs-star"}),Object(m.jsx)("span",{children:"7.5"})]}),Object(m.jsxs)("div",{className:"movie-info",children:[Object(m.jsx)("i",{className:"bx bxs-time"}),Object(m.jsx)("span",{children:"134 mins"})]}),Object(m.jsx)("div",{className:"movie-info",children:Object(m.jsx)("span",{children:"HD"})}),Object(m.jsx)("div",{className:"movie-info",children:Object(m.jsx)("span",{children:"13+"})})]}),Object(m.jsx)("div",{className:"item-content-description descriptionDisplayNone ",children:"King T'Challa returns home to the reclusive, technologically advanced African nation of Wakanda to serve as his country's new leader. However, T'Challa soon finds that he is challenged for the throne by factions within his own country as well as without."})]})})]})})})]}))})},O=s(22),x=s(10),v=Object(x.b)((function(e){return{userLogged:e.user.userLogged}}),null)((function(e){var t=e.userLogged;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("footer",{className:"section",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-4 col-md-6 col-sm-12",children:Object(m.jsxs)("div",{className:"content",children:[Object(m.jsxs)(j.c,{className:"logo logoFooterResponsive",to:"/",children:[Object(m.jsx)("i",{className:"bx bx-movie-play bx-tada main-color"}),"Cl",Object(m.jsx)(O.a,{className:"playIcon"}),"ud",Object(m.jsx)("span",{className:"main-color",children:"Flix"})]}),Object(m.jsx)("p",{className:"textFooterResponsive",children:"Cloudflix is \u200b\u200ba streaming service that works by subscription and allows its users to watch series and movies without ads through any device connected to the internet."}),Object(m.jsxs)("div",{className:"social-list",children:[Object(m.jsx)(j.c,{className:"social-item",to:"/",children:Object(m.jsx)("i",{className:"bx bxl-facebook"})}),Object(m.jsx)(j.c,{className:"social-item",to:"/",children:Object(m.jsx)("i",{className:"bx bxl-twitter"})}),Object(m.jsx)(j.c,{className:"social-item",to:"/",children:Object(m.jsx)("i",{className:"bx bxl-instagram"})})]})]})}),Object(m.jsx)("div",{className:"col-8 col-md-6 col-sm-12",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-3 col-md-6 col-sm-6 linksFooterResponsive",children:Object(m.jsxs)("div",{className:"content",children:[Object(m.jsx)("p",{children:Object(m.jsx)("b",{children:"Films by type"})}),Object(m.jsxs)("ul",{className:"footer-menu",children:[Object(m.jsx)("li",{children:Object(m.jsx)(j.c,{to:"/movies",children:"Movies"})}),Object(m.jsx)("li",{children:Object(m.jsx)(j.c,{to:"/series",children:"Series"})}),localStorage.getItem("token")?Object(m.jsx)("li",{children:Object(m.jsx)(j.c,{to:"/mylist",children:"Mylist"})}):null]})]})}),Object(m.jsx)("div",{className:"col-3 col-md-6 col-sm-6 linksFooterResponsive",children:Object(m.jsxs)("div",{className:"content",children:[Object(m.jsx)("p",{children:Object(m.jsx)("b",{children:"Pages of interest"})}),Object(m.jsxs)("ul",{className:"footer-menu",children:[Object(m.jsx)("li",{children:Object(m.jsx)(j.c,{to:"/",children:"Home"})}),Object(m.jsx)("li",{children:Object(m.jsx)(j.c,{to:"/popular",children:"Popular"})}),t&&Object(m.jsx)("li",{children:Object(m.jsx)(j.c,{to:"/pricing",children:"Change Plan"})})]})]})}),Object(m.jsx)("div",{className:"col-3 col-md-6 col-sm-6"}),Object(m.jsx)("div",{className:"col-3 col-md-6 col-sm-6 displayNoneResponsive",children:Object(m.jsxs)("div",{className:"content",children:[Object(m.jsx)("p",{children:Object(m.jsx)("b",{children:"Download app"})}),Object(m.jsxs)("ul",{className:"footer-menu",children:[Object(m.jsx)("li",{children:Object(m.jsx)(j.c,{to:"/",children:Object(m.jsx)("img",{src:"/images/google-play.png",alt:""})})}),Object(m.jsx)("li",{children:Object(m.jsx)(j.c,{to:"/",children:Object(m.jsx)("img",{src:"/images/app-store.png",alt:""})})})]})]})})]})})]})})}),Object(m.jsxs)("div",{className:"copyright",children:["Copyright 2021 | ",Object(m.jsx)("p",{className:"colorChallengeFooter",children:"Challenge Grupo 3"})]})]})})),g=s(12),y=s(9),N=s.n(y),w=n.a.createContext(),k=s(4),P=s.n(k),S=s(8),C=s(23),L=s.n(C),F=s(21),R=s.n(F),I={addToMyList:function(e,t,s){return function(){var r=Object(S.a)(P.a.mark((function r(n,c){var a;return P.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,L.a.put("https://cloud-flix.herokuapp.com/api/profile/addToList/".concat(s),{sendedData:e},{headers:{Authorization:"Bearer "+t.token}});case 3:return a=r.sent,n({type:"SELECTED_PROFILE",payload:a.data.response}),r.abrupt("return",a.data.response);case 8:return r.prev=8,r.t0=r.catch(0),r.abrupt("return",R()("Failed to try to connect with server","Please try again in a few minutes","error"));case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e,t){return r.apply(this,arguments)}}()},getMoviesOnList:function(e,t){return console.log(e),Object(S.a)(P.a.mark((function s(){var r;return P.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,L.a.get("https://cloud-flix.herokuapp.com/api/profile/mylist/".concat(e));case 3:return r=s.sent,s.abrupt("return",r.data.response);case 7:return s.prev=7,s.t0=s.catch(0),s.abrupt("return",t.push("/serverdown"));case 10:case"end":return s.stop()}}),s,null,[[0,7]])})))},createProfile:function(e,t){return function(){var s=Object(S.a)(P.a.mark((function s(r,n){var c;return P.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,L.a.post("https://cloud-flix.herokuapp.com/api/profile/".concat(t),{newProfile:e});case 3:if((c=s.sent).data.success){s.next=6;break}return s.abrupt("return",c.data.error);case 6:return r({type:"SELECTED_PROFILE",payload:c.data.respuesta}),s.abrupt("return",c.data.respuesta);case 10:return s.prev=10,s.t0=s.catch(0),s.abrupt("return",R()("Failed to try to connect with server","Please try again in a few minutes","error"));case 13:case"end":return s.stop()}}),s,null,[[0,10]])})));return function(e,t){return s.apply(this,arguments)}}()},deleteProfile:function(e,t){var s=t.id;return function(){var r=Object(S.a)(P.a.mark((function r(n,c){var a;return P.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,L.a.put("https://cloud-flix.herokuapp.com/api/profile/delete/".concat(e),{userId:s},{headers:{Authorization:"Bearer "+t.token}});case 3:return a=r.sent,n({type:"USER_PROFILES",payload:a.data.respuesta}),r.abrupt("return",a.data.respuesta);case 8:return r.prev=8,r.t0=r.catch(0),r.abrupt("return",R()("Failed to try to connect with server","Please try again in a few minutes","error"));case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e,t){return r.apply(this,arguments)}}()},getUserProfiles:function(e,t){return function(){var s=Object(S.a)(P.a.mark((function s(r,n){var c;return P.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,L.a.get("https://cloud-flix.herokuapp.com/api/profile/".concat(e),{headers:{Authorization:"Bearer "+t.token}});case 3:c=s.sent,r({type:"USER_PROFILES",payload:c.data.respuesta}),s.next=10;break;case 7:return s.prev=7,s.t0=s.catch(0),s.abrupt("return",null);case 10:case"end":return s.stop()}}),s,null,[[0,7]])})));return function(e,t){return s.apply(this,arguments)}}()},profileSelected:function(e){return function(t,s){t({type:"SELECTED_PROFILE",payload:e})}},unselectProfile:function(){return function(e,t){e({type:"UNSELECT_PROFILE"})}},backWelcome:function(){return function(e,t){e({type:"BACK_WELCOME"})}}},E=function(){return Object(m.jsx)("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 352 512",children:Object(m.jsx)("path",{fill:"currentColor",d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"})})},M=(s(260),s(123)),_={movies:function(){return function(){var e=Object(S.a)(P.a.mark((function e(t,s){var r,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://cloud-flix.herokuapp.com/api/audiovisuals");case 3:return r=e.sent,e.next=6,r.json();case 6:if((n=e.sent).success){e.next=11;break}t({type:"ERR",payload:!0}),e.next=12;break;case 11:return e.abrupt("return",n.respuesta);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),t({type:"ERR",payload:!0});case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,s){return e.apply(this,arguments)}}()},filterFilms:function(e,t){return function(){var s=Object(S.a)(P.a.mark((function s(r,n){var c,a;return P.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,fetch("https://cloud-flix.herokuapp.com/api/audiovisuals");case 3:return c=s.sent,s.next=6,c.json();case 6:if((a=s.sent).success){s.next=11;break}return s.abrupt("return",a.respuesta.error);case 11:return s.abrupt("return",a.respuesta.filter((function(t){return t.cast.includes(e)})));case 12:s.next=17;break;case 14:return s.prev=14,s.t0=s.catch(0),s.abrupt("return",t.push("/serverdown"));case 17:case"end":return s.stop()}}),s,null,[[0,14]])})));return function(e,t){return s.apply(this,arguments)}}()},rateMovie:function(e,t,s,r){return function(){var r=Object(S.a)(P.a.mark((function r(n,c){var a;return P.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,L.a.post("https://cloud-flix.herokuapp.com/api/rate/"+e,{numero:s},{headers:{Authorization:"Bearer "+t.token}});case 3:if(!(a=r.sent).data.success){r.next=6;break}return r.abrupt("return",a.data.response.rate);case 6:r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),R()("Unable to connect to server","","error");case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e,t){return r.apply(this,arguments)}}()},fetchSeasons:function(e){return function(){var t=Object(S.a)(P.a.mark((function t(s,r){var n,c;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://cloud-flix.herokuapp.com/api/audiovisual/season/"+e);case 3:return n=t.sent,t.next=6,n.json();case 6:if((c=t.sent).success){t.next=11;break}s({type:"ERR",payload:!0}),t.next=12;break;case 11:return t.abrupt("return",c.response);case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),s({type:"ERR",payload:!0});case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,s){return t.apply(this,arguments)}}()}},A=s(33),T={addToMyList:I.addToMyList,profileSelected:I.profileSelected,rateMovie:_.rateMovie},B=Object(x.b)((function(e){return{userLogged:e.user.userLogged,selectedProfile:e.profile.selectedProfile}}),T)((function(e){var t=e.rateMovie,s=e.movie,n=e.onClose,c=e.profileSelected,a=e.addToMyList,o=e.selectedProfile,l=e.userLogged,u=e.history,d=Object(r.useState)({myList:o.myList,fetching:!1}),b=Object(g.a)(d,2),h=b[0],p=b[1],f=JSON.parse(localStorage.getItem("userLogged")),x=Object(i.a)({token:localStorage.getItem("token")},f),v=0!==o.length&&h.myList.some((function(e){return e.audiovisualId===s._id})),y=function(){var e=Object(S.a)(P.a.mark((function e(t){var s,r,n,l;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(Object(i.a)(Object(i.a)({},h),{},{fetching:!0})),s={movie:t,add:!0},r={movie:t,add:!1},n=v?r:s,e.next=6,a(n,x,o._id);case 6:l=e.sent,p({myList:l.myList,fetching:!1}),c(l);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=s.rate.map((function(e){return e.vote})),w=0===N.length?0:N.reduce((function(e,t){return e+t})),k=0===N.length?0:(w/N.length).toFixed(2),C=0===N.length?0:Math.ceil(w/N.length);return Object(m.jsxs)("div",{className:"content",children:[Object(m.jsxs)("div",{className:"content__background",children:[Object(m.jsx)("div",{className:"content__background__shadow"}),Object(m.jsx)("div",{className:"content__background__image",style:{backgroundImage:"url(".concat(s.imageBackground,")")}})]}),Object(m.jsx)("div",{className:"content__area",children:Object(m.jsxs)("div",{className:"content__area__container",children:[Object(m.jsx)("div",{className:"content__title",children:s.title}),Object(m.jsx)("div",{className:"year",children:Object(m.jsxs)("h1",{children:[" ",s.year]})}),Object(m.jsxs)("div",{className:"content-info",children:[Object(m.jsx)("div",{className:"content__description",children:s.sinopsis.length>250?s.sinopsis.slice(0,228)+"...":s.sinopsis}),Object(m.jsxs)("div",{className:"languages",children:[Object(m.jsx)("h4",{children:"Languages: "}),s.availableLanguages.map((function(e,t){return Object(m.jsx)("span",{children:e},t)}))]}),Object(m.jsxs)("div",{className:"subtitles",children:[Object(m.jsx)("h4",{children:"Subtitles: "}),s.availableSubtitles.map((function(e,t){return Object(m.jsx)("span",{children:e},t)}))]}),Object(m.jsxs)("div",{className:"casting",children:[Object(m.jsx)("h4",{children:"Cast: "}),s.cast.map((function(e,t){return Object(m.jsx)(j.c,{to:"/actorFilms/"+e,className:"actor",children:e},t)}))]}),Object(m.jsx)("div",{className:"director",children:Object(m.jsxs)("h4",{children:["Director: ",s.director," "]})}),Object(m.jsxs)("div",{className:"movie-infos",children:[Object(m.jsxs)("div",{className:"movie-info",children:[Object(m.jsx)("i",{className:"bx bxs-star"}),Object(m.jsx)("span",{children:k})]}),Object(m.jsx)("div",{className:"movie-info",children:Object(m.jsx)("span",{children:s.audienceAge})})]}),Object(m.jsxs)("div",{className:"buttons",children:[l?l&&l.premium?Object(m.jsx)(j.c,{to:"/video",children:Object(m.jsxs)("p",{className:"btn btn-hover buttonBanner",children:[Object(m.jsx)("i",{className:"circulePlay",children:Object(m.jsx)(O.a,{size:20})}),Object(m.jsx)("span",{children:"Watch now"})]})}):!l||l.premium||s.premium?Object(m.jsxs)("p",{className:"btn btn-hover buttonBanner",onClick:function(){return A.b.error("This content is only available for registered users.",{position:"bottom-right"})},children:[Object(m.jsx)("i",{className:"circulePlay",children:Object(m.jsx)(O.a,{size:20})}),Object(m.jsx)("span",{children:"Watch now"})]}):Object(m.jsx)(j.c,{to:"/video",children:Object(m.jsxs)("p",{className:"btn btn-hover buttonBanner",children:[Object(m.jsx)("i",{className:"circulePlay",children:Object(m.jsx)(O.a,{size:20})}),Object(m.jsx)("span",{children:"Watch now"})]})}):Object(m.jsxs)("p",{className:"btn btn-hover buttonBanner",onClick:function(){return A.b.error("This content is only available for registered users.",{position:"bottom-right"})},children:[Object(m.jsx)("i",{className:"circulePlay",children:Object(m.jsx)(O.a,{size:20})}),Object(m.jsx)("span",{children:"Watch now"})]}),Object(m.jsx)(M.a,{className:"rating",onClick:function(e){if(!l)return A.b.error("You must be logged to score",{position:"bottom-right"}),null;t(s._id,x,e,u)},initialRating:C,emptySymbol:Object(m.jsx)(O.c,{}),fullSymbol:Object(m.jsx)(O.d,{}),fractions:1}),Object(m.jsx)(A.a,{autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]}),l&&Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("p",{className:"btn btn-hover buttonBanner",onClick:function(){return!h.fetching&&y(s)},children:[Object(m.jsxs)("i",{children:[Object(m.jsx)(O.b,{className:v?"addButton":""})," "]}),Object(m.jsxs)("span",{children:[v?"Remove from list":"Add to list"," "]})]})})]}),Object(m.jsx)("button",{className:"content__close",onClick:n,children:Object(m.jsx)(E,{})})]})})]})})),D=function(){return Object(m.jsx)("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",children:Object(m.jsx)("path",{fill:"currentColor",d:"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z"})})},U=(s(261),function(e){var t=e.onClick,s=e.type;return Object(m.jsx)("button",{className:"slide-button slide-button--".concat(s),onClick:t,children:Object(m.jsx)("span",{children:Object(m.jsx)(D,{})})})}),z=(s(262),function(e){var t=e.children;return Object(m.jsx)("div",{className:"slider-wrapper",children:t})}),W=function(e,t){var s=Object(r.useRef)(null),n=Object(r.useState)(0),c=Object(g.a)(n,2),a=c[0],i=c[1],o=Object(r.useState)(0),l=Object(g.a)(o,2),u=l[0],d=l[1],j=Object(r.useState)(0),b=Object(g.a)(j,2),h=b[0],p=b[1],m=Object(r.useState)(0),f=Object(g.a)(m,2),O=f[0],x=f[1];Object(r.useEffect)((function(){var t=s.current.clientWidth-110;i(t),p(Math.floor(t/e))}),[s.current]);return{handlePrev:function(){x(O-h),d(u+a)},handleNext:function(){x(O+h),d(u-a)},slideProps:{style:{transform:"translate3d(".concat(u,"px, 0, 0)")}},containerRef:s,hasPrev:u<0,hasNext:O+h<t}},H=function(){var e=Object(r.useRef)(null),t=Object(r.useState)(0),s=Object(g.a)(t,2),n=s[0],c=s[1];return Object(r.useEffect)((function(){if(!e.current)return null;c(e.current.clientWidth)}),[e.current]),{width:n,elementRef:e}},G=(s(263),function(e){var t=e.children,s=e.activeSlide,c=Object(r.useState)(s),a=Object(g.a)(c,2),o=a[0],l=a[1],u=H(),d=u.width,j=u.elementRef,b=W(d,n.a.Children.count(t)),h=b.handlePrev,p=b.handleNext,f=b.slideProps,O=b.containerRef,x=b.hasNext,v=b.hasPrev,y=function(){l(null)},k={onSelectSlide:function(e){l(e)},onCloseSlide:y,elementRef:j,currentSlide:o};return Object(m.jsxs)(w.Provider,{value:k,children:[Object(m.jsxs)(z,{children:[Object(m.jsx)("div",{className:N()("slider",{"slider--open":null!=o}),children:Object(m.jsx)("div",Object(i.a)(Object(i.a)({ref:O,className:"slider__container"},f),{},{children:t}))}),v&&Object(m.jsx)(U,{onClick:h,type:"prev"}),x&&Object(m.jsx)(U,{onClick:p,type:"next"})]}),o&&Object(m.jsx)(B,{movie:o,onClose:y})]})}),J=(s(264),function(e){var t=e.onClick;return Object(m.jsx)("button",{onClick:t,className:"show-details-button",children:Object(m.jsx)("span",{children:Object(m.jsx)(D,{})})})}),K=(s(265),function(){return Object(m.jsx)("div",{className:"mark"})}),Y=(s(266),function(e){var t=e.movie;return Object(m.jsx)(w.Consumer,{children:function(e){var s=e.onSelectSlide,r=e.currentSlide,n=e.elementRef,c=r&&r.id===t._id;return Object(m.jsxs)("div",{onClick:function(){return s(t)},ref:n,className:N()("item",{"item--open":c}),children:[t.premium&&Object(m.jsx)("div",{className:"box",children:Object(m.jsx)("div",{className:"ribbon",children:Object(m.jsx)("span",{children:"PREMIUM"})})}),Object(m.jsx)("img",{src:t.imageBanner,alt:""}),Object(m.jsx)(J,{}),c&&Object(m.jsx)(K,{})]})}})});G.Item=Y;var V=G,q=function(e){var t=e.movies;return Object(m.jsx)(V,{children:t.map((function(e){return Object(m.jsx)(V.Item,{movie:e,children:"item1"},e._id)}))})},Z=function(e){var t=e.title,s=e.array;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"section",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{className:"section-header",children:t})})}),s.length&&Object(m.jsx)(q,{movies:s})]})},$={fetchSeries:function(e){return function(t){return fetch("https://cloud-flix.herokuapp.com/api/audiovisuals").then((function(e){return e.json()})).then((function(e){return e.respuesta.filter((function(e){return"Serie"===e.audiovisualType}))})).catch((function(t){return e.push("/serverdown")}))}},fetchMovies:function(e){return function(t){return fetch("https://cloud-flix.herokuapp.com/api/audiovisuals").then((function(e){return e.json()})).then((function(e){return e.respuesta.filter((function(e){return"Movie"===e.audiovisualType}))})).catch((function(t){return e.push("/serverdown")}))}},fetchAll:function(e){return function(t){return fetch("https://cloud-flix.herokuapp.com/api/audiovisuals").then((function(e){return e.json()})).then((function(e){return e.respuesta})).catch((function(t){return e.push("/serverdown")}))}}},Q={newUser:function(e){return function(){var t=Object(S.a)(P.a.mark((function t(s,r){var n;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.a.post("https://cloud-flix.herokuapp.com/api/user/signup",e);case 3:if((n=t.sent).data.success){t.next=6;break}return t.abrupt("return",n.data.error);case 6:return s({type:"LOG_USER",payload:n.data.respuesta}),t.abrupt("return",n.data.respuesta);case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",R()("Failed to try to connect with server","Please try again in a few minutes","error"));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,s){return t.apply(this,arguments)}}()},logUser:function(e){return function(){var t=Object(S.a)(P.a.mark((function t(s,r){var n;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.a.post("https://cloud-flix.herokuapp.com/api/user/login",e);case 3:if((n=t.sent).data.success){t.next=6;break}return t.abrupt("return",n.data);case 6:return s({type:"LOG_USER",payload:n.data.respuesta}),t.abrupt("return",n.data.respuesta);case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",R()("Failed to try to connect with server","Please try again in a few minutes","error"));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,s){return t.apply(this,arguments)}}()},userLogout:function(){return function(e,t){e({type:"LOGOUT_USER"})}},loginForcedLS:function(e,t){return function(){var t=Object(S.a)(P.a.mark((function t(s,r){var n;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.a.get("https://cloud-flix.herokuapp.com/api/user/loginForced",{headers:{Authorization:"Bearer "+e.token}});case 3:n=t.sent,s({type:"LOG_USER",payload:Object(i.a)(Object(i.a)({},n.data.response),{},{token:e.token})}),t.next=14;break;case 7:if(t.prev=7,t.t0=t.catch(0),t.t0.response){t.next=13;break}return t.abrupt("return",null);case 13:t.t0.response.status&&t.t0.response.status>399&&t.t0.response.status<499&&(R()("Invalid Token","Please Log in again","error"),s({type:"LOGOUT_USER",payload:[]}));case 14:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,s){return t.apply(this,arguments)}}()},selectPlan:function(e){return function(){var t=Object(S.a)(P.a.mark((function t(s,r){var n;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.a.put("https://cloud-flix.herokuapp.com/api/selectPremium",{change:e},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});case 3:n=t.sent,s({type:"CHANGE_MEMBERTYPE",payload:n.data.response}),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",null);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,s){return t.apply(this,arguments)}}()}},X=s(42),ee={userLogout:Q.userLogout,unselectProfile:I.unselectProfile,actorFilter:_.actorFilter,profileSelected:I.profileSelected},te=Object(x.b)((function(e){return{userLogged:e.user.userLogged,selectedProfile:e.profile.selectedProfile,allProfiles:e.profile.userProfiles,errServer:e.audiovisual.fallenServer}}),ee)((function(e){var t=e.allProfiles,s=e.profileSelected,n=e.selectedProfile,c=e.unselectProfile,a=e.userLogout,i=e.filter,o=void 0===i?null:i,l=e.userLogged,u=Object(r.useState)(!1),d=Object(g.a)(u,2),b=d[0],h=d[1],p=Object(r.useState)(!1),f=Object(g.a)(p,2),x=f[0],v=f[1],y=function(){var t=Object(S.a)(P.a.mark((function t(r){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(r),t.abrupt("return",e.props.push("/forcedActualization"));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"animate__animated animate__fadeInDown nav-wrapper",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"nav",children:[Object(m.jsxs)(j.b,{to:"/",className:"logo",children:[Object(m.jsx)("i",{className:"bx bx-movie-play bx-tada main-color"}),"Cl",Object(m.jsx)(O.a,{className:"playIcon"}),"ud",Object(m.jsx)("span",{className:"main-color",children:"Flix"}),l&&l.premium?Object(m.jsx)("span",{className:"spanPremiumHeader",children:"Premium"}):null]}),Object(m.jsxs)("ul",{className:b?"nav-menu active ":"nav-menu",id:"nav-menu",children:[Object(m.jsx)("li",{children:Object(m.jsx)("div",{className:"searchContainer",children:Object(m.jsxs)("div",{role:"search",children:[Object(m.jsx)("label",{htmlFor:"s",children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-search",viewBox:"0 0 16 16",children:Object(m.jsx)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"})})}),Object(m.jsx)("input",{type:"text",onChange:o,placeholder:"Search",className:"",id:"s"})]})})}),Object(m.jsx)("li",{children:Object(m.jsx)(j.b,{to:"/",children:"Home"})}),Object(m.jsx)("li",{children:Object(m.jsx)(j.b,{to:"/popular",children:"Popular"})}),Object(m.jsx)("li",{children:Object(m.jsx)(j.b,{to:"/movies",children:"Movies"})}),Object(m.jsx)("li",{children:Object(m.jsx)(j.b,{to:"/series",children:"Series"})}),localStorage.getItem("token")?Object(m.jsx)("li",{children:Object(m.jsx)(j.b,{to:"/mylist",children:"Mylist"})}):null,localStorage.getItem("token")?Object(m.jsxs)("div",{className:"dropdown",children:[Object(m.jsx)("div",{onMouseDown:function(){v(!x)},className:"userLogged",style:{backgroundImage:"url(".concat(n.avatar,")")}}),Object(m.jsx)("img",{style:{width:"12px",height:"12px"},src:"/images/ordenar-abajo.png",alt:""}),x&&Object(m.jsxs)("div",{className:"dropdownMenu",children:[Object(m.jsx)("div",{className:"divAvatars",children:t&&t.map((function(e){return Object(m.jsxs)("div",{className:"divProfilesDropdown",onClick:function(){return y(e)},children:[Object(m.jsx)("div",{className:"avatarProfile",style:n._id===e._id?{display:"none"}:{backgroundImage:"url(".concat(e.avatar,")")}}),Object(m.jsx)("div",{className:"nameProfile",children:Object(m.jsx)("p",{style:n._id===e._id?{display:"none"}:null,children:e.name})})]},e._id)}))}),Object(m.jsx)(j.b,{to:"/ProfileSelection",children:Object(m.jsxs)("div",{className:"settings",children:[Object(m.jsx)(X.c,{style:{fontSize:"40px",color:"black"}}),Object(m.jsx)("h6",{style:{color:"black",textAlign:"center"},children:"Manage Profiles"})]})}),Object(m.jsx)("div",{onClick:function(){a(),c()},className:"logout",children:"LOG OUT"})]})]}):Object(m.jsx)("li",{children:Object(m.jsx)(j.b,{to:"/login",className:"btn btn-hover",children:Object(m.jsx)("span",{children:"Start!"})})})]}),Object(m.jsx)("div",{className:b?"hamburger-menu active":"hamburger-menu",onClick:function(){return h(!b)},id:"hamburger-menu",children:Object(m.jsx)("div",{className:"hamburger"})})]})})})})})),se=function(){return Object(m.jsxs)("div",{className:"preloader",children:[Object(m.jsx)("div",{className:"logoLoader",style:{backgroundImage:'url("../images/logoCloudFlix.png")'}}),Object(m.jsxs)("div",{className:"sk-cube-grid",children:[Object(m.jsx)("div",{className:"sk-cube sk-cube1"}),Object(m.jsx)("div",{className:"sk-cube sk-cube2"}),Object(m.jsx)("div",{className:"sk-cube sk-cube3"}),Object(m.jsx)("div",{className:"sk-cube sk-cube4"}),Object(m.jsx)("div",{className:"sk-cube sk-cube5"}),Object(m.jsx)("div",{className:"sk-cube sk-cube6"}),Object(m.jsx)("div",{className:"sk-cube sk-cube7"}),Object(m.jsx)("div",{className:"sk-cube sk-cube8"}),Object(m.jsx)("div",{className:"sk-cube sk-cube9"})]})]})},re=function(){return Object(m.jsxs)("div",{className:"serverDown",children:[Object(m.jsx)("h1",{children:"Sorry, servers are down, come back later!"}),Object(m.jsx)("ul",{className:"nav-menu",id:"nav-menu",children:Object(m.jsx)("li",{children:Object(m.jsx)(j.b,{to:"/",className:"btn btn-hover",children:Object(m.jsx)("span",{children:"Try Again!"})})})})]})},ne=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(o.a)(this,s);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).toTop=function(){window.scroll({top:0,left:0,behavior:"smooth"})},e.state={all:[],series:[],movies:[],filtered:[]},e.componentWillUnmount=function(){e.props.backWelcome()},e.welcome=function(){e.props.selectedProfile&&e.props.greetings&&A.b.success("Welcome ".concat(e.props.selectedProfile.name),{position:"bottom-right"})},e.filter=function(t){t.preventDefault();var s=t.target.value.toLowerCase().trim();0===s.length?e.setState(Object(i.a)(Object(i.a)({},e.state),{},{filtered:[]})):e.setState(Object(i.a)(Object(i.a)({},e.state),{},{filtered:e.state.all.filter((function(e){return e.title.toLowerCase().trim().includes(s)})).length>0&&e.state.all.filter((function(e){return e.title.toLowerCase().trim().includes(s)}))}))},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.welcome(),this.props.fetchAll(this.props.history).then((function(t){t&&e.props.selectedProfile.kids?e.setState(Object(i.a)(Object(i.a)({},e.state),{},{all:t.filter((function(e){return"PG"===e.audienceAge}))})):e.setState(Object(i.a)(Object(i.a)({},e.state),{},{all:t})),e.state.all.length&&e.setState(Object(i.a)(Object(i.a)({},e.state),{},{series:e.state.all.filter((function(e){return"Serie"===e.audiovisualType&&e.year>(new Date).getFullYear()-3})),movies:e.state.all.filter((function(e){return"Movie"===e.audiovisualType&&e.year>(new Date).getFullYear()-3}))}))}))}},{key:"render",value:function(){return this.props.errServer||!this.state.all?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(te,{filter:this.filter,props:this.props.history}),Object(m.jsx)(re,{}),Object(m.jsx)(v,{})]}):this.state.all.length?Object(m.jsxs)("div",{children:[Object(m.jsx)(te,{filter:this.filter,props:this.props.history}),"object"===typeof this.state.filtered&&this.state.filtered.length>0?Object(m.jsx)("div",{className:"carouselBannerless",children:Object(m.jsx)(Z,{title:"Results",array:this.state.filtered})}):this.state.filtered?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(f,{}),Object(m.jsx)(Z,{title:"Latest Series",array:this.state.series}),Object(m.jsx)(Z,{title:"Latest Movies",array:this.state.movies})]}):Object(m.jsx)("div",{className:"carouselBannerless",children:Object(m.jsx)("div",{className:"noResultsFounded",children:Object(m.jsx)("h1",{className:"noResults",children:"No results founded."})})}),Object(m.jsx)(v,{}),Object(m.jsx)(A.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]}):Object(m.jsx)(se,{})}}]),s}(n.a.Component),ce={fetchAll:$.fetchAll,fetchMovies:$.fetchMovies,backWelcome:I.backWelcome},ae=Object(x.b)((function(e){return{errServer:e.audiovisual.fallenServer,selectedProfile:e.profile.selectedProfile,greetings:e.profile.greetings}}),ce)(ne),ie={addToMyList:I.addToMyList,profileSelected:I.profileSelected},oe=Object(x.b)((function(e){return{userLogged:e.user.userLogged,selectedProfile:e.profile.selectedProfile}}),ie)((function(e){var t=e.array,s=e.addToMyList,n=e.profileSelected,c=e.userLogged,a=e.selectedProfile,o=Object(r.useState)({myList:a.myList,fetching:!1}),l=Object(g.a)(o,2),u=l[0],d=l[1],b=Object(r.useState)({bannerRandom:[],movie:[]}),h=Object(g.a)(b,2),p=h[0],f=h[1],x=t[Math.floor(Math.random()*t.length)],v=x.rate.map((function(e){return e.vote})),y=0===v.length?0:(v.reduce((function(e,t){return e+t}))/v.length).toFixed(2);Object(r.useEffect)((function(){f({bannerRandom:p,movie:x})}),[]);var N=JSON.parse(localStorage.getItem("userLogged")),w=Object(i.a)({token:localStorage.getItem("token")},N),k=0!==a.length&&u.myList.some((function(e){return e.audiovisualId===p.movie._id})),C=function(){var e=Object(S.a)(P.a.mark((function e(t){var r,c,o,l;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(Object(i.a)(Object(i.a)({},u),{},{fetching:!0})),r={movie:t,add:!0},c={movie:t,add:!1},o=k?c:r,e.next=6,s(o,w,a._id);case 6:l=e.sent,n(l),d({myList:l.myList,fetching:!1});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"bannerMovies",style:{backgroundImage:"url(".concat(p.movie.imageBackground,")")},children:[Object(m.jsx)("div",{className:"overlay"}),Object(m.jsx)("div",{className:"hero-slide-item-content itemContent",children:Object(m.jsxs)("div",{className:"item-content-wraper contentWraper",children:[Object(m.jsx)("div",{className:"item-content-title contentTitle",children:p.movie.title}),Object(m.jsxs)("div",{className:"movie-infos",children:[Object(m.jsxs)("div",{className:"movie-info",children:[Object(m.jsx)("i",{className:"bx bxs-star"}),Object(m.jsx)("span",{children:y})]}),Object(m.jsxs)("div",{className:"movie-info",children:[Object(m.jsx)("i",{className:"bx bxs-time"}),Object(m.jsxs)("span",{children:[p.movie.duration," hs"]})]}),Object(m.jsx)("div",{className:"movie-info",children:Object(m.jsx)("span",{children:"HD"})}),Object(m.jsx)("div",{className:"movie-info",children:Object(m.jsx)("span",{children:p.movie.audienceAge})})]}),Object(m.jsx)("div",{className:"item-content-description contentDescription",children:p.movie.sinopsis}),c&&c.premium?Object(m.jsx)(j.c,{to:"/video",children:Object(m.jsxs)("p",{className:"btn btn-hover buttonBannerRandom",children:[Object(m.jsx)("i",{className:"circulePlay",children:Object(m.jsx)(O.a,{size:20})}),Object(m.jsx)("span",{children:"Watch now"})]})}):p.movie.premium?Object(m.jsxs)("p",{className:"btn btn-hover buttonBannerRandom",onClick:function(){return A.b.error("This content is only available for Premium users.",{position:"bottom-right"})},children:[Object(m.jsx)("i",{className:"circulePlay",children:Object(m.jsx)(O.a,{size:20})}),Object(m.jsx)("span",{children:"Watch now"})]}):Object(m.jsx)(j.c,{to:"/video",children:Object(m.jsxs)("p",{className:"btn btn-hover buttonBannerRandom",children:[Object(m.jsx)("i",{className:"circulePlay",children:Object(m.jsx)(O.a,{size:20})}),Object(m.jsx)("span",{children:"Watch now"})]})}),Object(m.jsx)(A.a,{autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),c&&Object(m.jsxs)("p",{className:"btn btn-hover buttonBannerRandom ",onClick:function(){return!u.fetching&&C(p.movie)},children:[Object(m.jsxs)("i",{children:[Object(m.jsx)(O.b,{className:k?"addButton":""})," "]}),Object(m.jsxs)("span",{children:[k?"Remove form list":"Add to list"," "]})]})]})})]})})})),le=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(o.a)(this,s);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={loader:!0,movies:[],action:[],comedy:[],adventure:[],crime:[],filtered:[],cast:[]},e.componentDidMount=Object(S.a)(P.a.mark((function t(){var s;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.fetchMovies(e.props.history);case 2:(s=t.sent)&&e.props.selectedProfile.kids?e.setState(Object(i.a)(Object(i.a)({},e.state),{},{movies:s.filter((function(e){return"PG"===e.audienceAge}))})):e.setState(Object(i.a)(Object(i.a)({},e.state),{},{movies:s})),s&&e.setState({loader:!1,action:e.state.movies.filter((function(e){return e.categories.includes("Action")})),comedy:e.state.movies.filter((function(e){return e.categories.includes("Comedy")})),adventure:e.state.movies.filter((function(e){return e.categories.includes("Adventure")})),crime:e.state.movies.filter((function(e){return e.categories.includes("Crime")}))});case 5:case"end":return t.stop()}}),t)}))),e.toTop=function(){window.scroll({top:0,left:0,behavior:"smooth"})},e.filter=function(t){t.preventDefault();var s=t.target.value.toLowerCase().trim();0===s.length?e.setState(Object(i.a)(Object(i.a)({},e.state),{},{filtered:[]})):e.setState(Object(i.a)(Object(i.a)({},e.state),{},{filtered:e.state.movies.filter((function(e){return e.title.toLowerCase().trim().includes(s)})).length>0&&e.state.movies.filter((function(e){return e.title.toLowerCase().trim().includes(s)}))}))},e}return Object(l.a)(s,[{key:"render",value:function(){var e=[{name:"Action",movies:this.state.action},{name:"Comedy",movies:this.state.comedy},{name:"Adventure",movies:this.state.adventure},{name:"Crime",movies:this.state.crime}];return this.response||!this.state.movies?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(te,{filter:this.filter,props:this.props.history}),Object(m.jsx)(re,{}),Object(m.jsx)(v,{})]}):this.state.loader?Object(m.jsx)(se,{}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(te,{filter:this.filter,props:this.props.history}),"object"===typeof this.state.filtered&&this.state.filtered.length>0?Object(m.jsx)("div",{className:"carouselBannerless",children:Object(m.jsx)(Z,{title:"Results",array:this.state.filtered})}):this.state.filtered?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(oe,{array:this.state.movies}),Object(m.jsx)("div",{className:"seriesContainer",children:e.map((function(e,t){return Object(m.jsx)(Z,{title:e.name,array:e.movies},t)}))})]}):Object(m.jsx)("div",{className:"carouselBannerless",children:Object(m.jsx)("div",{className:"noResultsFounded",children:Object(m.jsx)("h1",{className:"noResults",children:"No results founded."})})}),Object(m.jsx)(v,{})]})}}]),s}(n.a.Component),ue={fetchMovies:$.fetchMovies,actorFilter:_.actorFilter},de=Object(x.b)((function(e){return{selectedProfile:e.profile.selectedProfile}}),ue)(le),je=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(o.a)(this,s);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).toTop=function(){window.scroll({top:0,left:0,behavior:"smooth"})},e.state={series:[],action:[],comedy:[],scienceFiction:[],crime:[],filtered:[]},e.filter=function(t){t.preventDefault();var s=t.target.value.toLowerCase().trim();0===s.length?e.setState(Object(i.a)(Object(i.a)({},e.state),{},{filtered:[]})):e.setState(Object(i.a)(Object(i.a)({},e.state),{},{filtered:e.state.series.filter((function(e){return e.title.toLowerCase().trim().includes(s)})).length>0&&e.state.series.filter((function(e){return e.title.toLowerCase().trim().includes(s)}))}))},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.props.fetchSeries(this.props.history).then((function(t){t&&e.props.selectedProfile.kids?e.setState(Object(i.a)(Object(i.a)({},e.state),{},{series:t.filter((function(e){return"PG"===e.audienceAge}))})):e.setState(Object(i.a)(Object(i.a)({},e.state),{},{series:t})),e.state.series.length&&e.setState(Object(i.a)(Object(i.a)({},e.state),{},{action:e.state.series.filter((function(e){return e.categories.includes("Action")})),comedy:e.state.series.filter((function(e){return e.categories.includes("Comedy")})),scienceFiction:e.state.series.filter((function(e){return e.categories.includes("Science Fiction")})),crime:e.state.series.filter((function(e){return e.categories.includes("Crime")}))}))}))}},{key:"render",value:function(){return this.props.errServer||!this.state.series?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(te,{filter:this.filter,props:this.props.history}),Object(m.jsx)(re,{}),Object(m.jsx)(v,{})]}):this.state.action.length?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(te,{filter:this.filter,props:this.props.history}),Object(m.jsxs)("div",{children:["object"===typeof this.state.filtered&&this.state.filtered.length>0?Object(m.jsx)("div",{className:"carouselBannerless",children:Object(m.jsx)(Z,{title:"Results",array:this.state.filtered})}):this.state.filtered?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(oe,{array:this.state.series}),Object(m.jsxs)("div",{className:"seriesContainer",children:[Object(m.jsx)(Z,{title:"Action",array:this.state.action}),Object(m.jsx)(Z,{title:"Comedy",array:this.state.comedy}),Object(m.jsx)(Z,{title:"Science Fiction",array:this.state.scienceFiction}),this.state.crime.length&&Object(m.jsx)(Z,{title:"Crime",array:this.state.crime})]})]}):Object(m.jsx)("div",{className:"carouselBannerless",children:Object(m.jsx)("div",{className:"noResultsFounded",children:Object(m.jsx)("h1",{className:"noResults",children:"No results founded."})})}),Object(m.jsx)(v,{})]})]}):Object(m.jsx)(se,{})}}]),s}(n.a.Component),be={fetchSeries:$.fetchSeries},he=Object(x.b)((function(e){return{errServer:e.audiovisual.fallenServer,selectedProfile:e.profile.selectedProfile}}),be)(je),pe=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(o.a)(this,s);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).toTop=function(){window.scroll({top:0,left:0,behavior:"smooth"})},e.state={all:[],series:[],movies:[],action:[],comedy:[],filtered:[]},e.popularityCalc=function(e){return e.map((function(e){var t=0;return e.rate.map((function(e){return t+=e.vote})),e.averagePopularity=t/e.rate.length||0,e}))},e.filter=function(t){t.preventDefault();var s=t.target.value.toLowerCase().trim();0===s.length?e.setState(Object(i.a)(Object(i.a)({},e.state),{},{filtered:[]})):e.setState(Object(i.a)(Object(i.a)({},e.state),{},{filtered:e.state.all.filter((function(e){return e.title.toLowerCase().trim().includes(s)})).length>0&&e.state.all.filter((function(e){return e.title.toLowerCase().trim().includes(s)}))}))},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.props.fetchAll(this.props.history).then((function(t){t&&e.props.selectedProfile.kids?e.setState(Object(i.a)(Object(i.a)({},e.state),{},{all:t.filter((function(e){return"PG"===e.audienceAge}))})):e.setState(Object(i.a)(Object(i.a)({},e.state),{},{all:t})),e.state.all.length&&e.setState(Object(i.a)(Object(i.a)({},e.state),{},{series:e.popularityCalc(e.state.all.filter((function(e){return"Serie"===e.audiovisualType}))).sort((function(e,t){return t.averagePopularity-e.averagePopularity})),movies:e.popularityCalc(e.state.all.filter((function(e){return"Movie"===e.audiovisualType}))).sort((function(e,t){return t.averagePopularity-e.averagePopularity}))}))}))}},{key:"render",value:function(){return this.props.errServer||!this.state.all?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(te,{filter:this.filter,props:this.props.history}),Object(m.jsx)(re,{}),Object(m.jsx)(v,{})]}):this.state.all.length?Object(m.jsxs)("div",{children:[Object(m.jsx)(te,{filter:this.filter,props:this.props.history}),"object"===typeof this.state.filtered&&this.state.filtered.length>0?Object(m.jsx)("div",{className:"carouselBannerless",children:Object(m.jsx)(Z,{title:"Results",array:this.state.filtered})}):this.state.filtered?Object(m.jsxs)("div",{children:[Object(m.jsx)(oe,{array:this.state.all}),Object(m.jsxs)("div",{className:"popularContainer",children:[Object(m.jsx)(Z,{title:"Most popular series",array:this.state.series}),Object(m.jsx)(Z,{title:"Most popular Movies",array:this.state.movies})]})]}):Object(m.jsx)("div",{className:"carouselBannerless",children:Object(m.jsx)("div",{className:"noResultsFounded",children:Object(m.jsx)("h1",{className:"noResults",children:"No results founded."})})}),Object(m.jsx)(v,{})]}):Object(m.jsx)(se,{})}}]),s}(n.a.Component),me={fetchAll:$.fetchAll},fe=Object(x.b)((function(e){return{errServer:e.audiovisual.fallenServer,selectedProfile:e.profile.selectedProfile}}),me)(pe),Oe=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(o.a)(this,s);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).toTop=function(){window.scroll({top:0,left:0,behavior:"smooth"})},e.state={myFavourites:null,filtered:[]},e.componentDidMount=Object(S.a)(P.a.mark((function t(){var s;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.getMoviesOnList(e.props.selectedProfile._id,e.props.history);case 2:s=t.sent,console.log(s),"Oops! the ID you enter was not founded"===s?e.props.history.push("/ForcedActualization"):e.setState(Object(i.a)(Object(i.a)({},e.state),{},{myFavourites:s.map((function(e){return e.audiovisualId}))}));case 5:case"end":return t.stop()}}),t)}))),e.filter=function(t){t.preventDefault();var s=t.target.value.toLowerCase().trim();0===s.length?e.setState(Object(i.a)(Object(i.a)({},e.state),{},{filtered:[]})):e.setState(Object(i.a)(Object(i.a)({},e.state),{},{filtered:e.state.myFavourites.filter((function(e){return e.title.toLowerCase().trim().includes(s)})).length>0&&e.state.myFavourites.filter((function(e){return e.title.toLowerCase().trim().includes(s)}))}))},e}return Object(l.a)(s,[{key:"render",value:function(){return null!==this.state.myFavourites&&this.props.selectedProfile?Object(m.jsxs)("div",{children:[Object(m.jsx)(te,{filter:this.filter,props:this.props.history}),"object"===typeof this.state.filtered&&this.state.filtered.length>0?Object(m.jsx)("div",{className:"carouselBannerless",children:Object(m.jsx)(Z,{title:"Results",array:this.state.filtered})}):this.state.filtered?0!==this.state.myFavourites.length?Object(m.jsx)("div",{className:"carouselBannerless",children:Object(m.jsx)(Z,{title:"Your List",array:this.state.myFavourites})}):Object(m.jsxs)("div",{className:"noFilmsInList",children:[Object(m.jsx)("h1",{children:"Your List is empty!"}),Object(m.jsx)("h2",{children:"Put some Titles here!"}),Object(m.jsx)(j.b,{to:"/",className:"btn btn-hover",children:Object(m.jsx)("span",{children:"Back to Home"})})]}):Object(m.jsx)("div",{className:"carouselBannerless",children:Object(m.jsx)("div",{className:"noResultsFounded",children:Object(m.jsx)("h1",{className:"noResults",children:"No results founded."})})}),Object(m.jsx)(v,{})]}):Object(m.jsx)(se,{})}}]),s}(n.a.Component),xe={getMoviesOnList:I.getMoviesOnList},ve=Object(x.b)((function(e){return{userLogged:e.user.userLogged,selectedProfile:e.profile.selectedProfile}}),xe)(Oe),ge=(s(267),s(268),s(37)),ye=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(o.a)(this,s);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).toTop=function(){window.scroll({top:0,left:0,behavior:"smooth"})},e.state={profiles:[],creating:!1,newProfile:{name:"",avatar:"",kids:!1},loading:!0,fetching:!1},e.userData=JSON.parse(localStorage.getItem("userLogged")),e.userLS=Object(i.a)({token:localStorage.getItem("token")},e.userData),e.componentDidMount=Object(S.a)(P.a.mark((function t(){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.getUserProfiles(e.userData.id,e.userLS);case 2:e.setState(Object(i.a)(Object(i.a)({},e.state),{},{loading:!1}));case 3:case"end":return t.stop()}}),t)}))),e.selectProfile=function(){var t=Object(S.a)(P.a.mark((function t(s){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:localStorage.getItem("profile")?(e.props.profileSelected(s),e.props.history.push("/")):e.props.profileSelected(s);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.createProfile=Object(S.a)(P.a.mark((function t(){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState(Object(i.a)(Object(i.a)({},e.state),{},{creating:!0,newProfile:Object(i.a)(Object(i.a)({},e.state.newProfile),{},{name:"",avatar:"",kids:!1})}));case 1:case"end":return t.stop()}}),t)}))),e.readInput=function(t){var s=t.target.name,r=t.target.value;e.setState(Object(i.a)(Object(i.a)({},e.state),{},{newProfile:Object(i.a)(Object(i.a)({},e.state.newProfile),{},Object(ge.a)({},s,r))}))},e.finishEdit=function(){e.setState(Object(i.a)(Object(i.a)({},e.state),{},{creating:!1}))},e.setContent=function(t){e.setState(Object(i.a)(Object(i.a)({},e.state),{},{newProfile:Object(i.a)(Object(i.a)({},e.state.newProfile),{},{kids:t.target.value})}))},e.send=function(){var t=Object(S.a)(P.a.mark((function t(s){var r,n;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.preventDefault(),e.setState(Object(i.a)(Object(i.a)({},e.state),{},{fetching:!0})),r=e.state.newProfile,t.next=5,e.props.createProfile(r,e.props.userLogged.id);case 5:if(n=t.sent){t.next=10;break}return t.abrupt("return",R()("It seems we have some issues with our server","Please, try again in a few minutes","error"));case 10:n.error?R()(n.error,"Verify and try again!","error"):(e.props.profileSelected(n),e.props.getUserProfiles(e.props.userLogged.id,e.userLS),e.setState(Object(i.a)(Object(i.a)({},e.state),{},{creating:!1,fetching:!1})));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.options=function(t){return R()("Want to delete this profile?","",{buttons:["Cancel","Delete"],dangerMode:!0}).then((function(s){if(!s)return null;e.props.deleteProfile(t,e.userLS)}))},e}return Object(l.a)(s,[{key:"render",value:function(){var e=this;return this.state.loading?Object(m.jsx)(se,{}):Object(m.jsx)("div",{className:"divProfileSelection",children:this.state.creating?Object(m.jsxs)("div",{className:"containerProfiles",children:[Object(m.jsx)("h1",{className:"h1AddProfile",children:"Add Profile (max 5)"}),Object(m.jsx)("h3",{className:"h3AddProfile",children:"Add a profile for other person Watching CloudFlix"}),Object(m.jsx)("hr",{className:"separacionConHr"}),Object(m.jsxs)("div",{className:"formProfile",children:[Object(m.jsx)("div",{className:"avatarPredeterminadoDiv",style:{backgroundImage:'url("https://i.pinimg.com/originals/0d/dc/ca/0ddccae723d85a703b798a5e682c23c1.png")'}}),Object(m.jsxs)("div",{className:"infoPerfilCreate",children:[Object(m.jsx)("label",{className:"labelCreatePerfil",htmlFor:"name",children:"Tell us Who you are!"}),Object(m.jsx)("input",{className:"inputCreatePerfil",type:"text",placeholder:"Name",id:"name",name:"name",onChange:this.readInput,value:this.state.newProfile.name}),Object(m.jsx)("label",{className:"labelCreatePerfil",htmlFor:"avatar",children:"Post a pic of you in URL"}),Object(m.jsx)("input",{className:"inputCreatePerfil",type:"text",placeholder:"Image URL",id:"avatar",name:"avatar",onChange:this.readInput,value:this.state.newProfile.avatar})]})]}),Object(m.jsxs)("div",{className:"showContentPrefile",children:[Object(m.jsx)("h3",{className:"h3showContentPrefile",children:"Show content for:"}),Object(m.jsxs)("div",{className:"divContent",children:[Object(m.jsxs)("label",{htmlFor:"adults",className:"l-radio",children:[Object(m.jsx)("input",{type:"radio",id:"adults",name:"content",value:"false",onChange:function(t){return e.setContent(t)},tabIndex:"1"}),Object(m.jsx)("span",{children:"Adults"})]}),Object(m.jsxs)("label",{htmlFor:"kids",className:"l-radio",children:[Object(m.jsx)("input",{type:"radio",id:"kids",name:"content",value:"true",onChange:function(t){return e.setContent(t)},tabIndex:"2"}),Object(m.jsx)("span",{children:"Kids"})]})]})]}),Object(m.jsxs)("div",{className:"containerButtonsCreateProfile",children:[Object(m.jsx)("button",{className:"continueCreateProfile",onClick:function(t){return e.state.fetching?null:e.send(t)},children:"CONTINUE"}),Object(m.jsx)("button",{className:"cancelCreateProfile",onClick:function(){return e.finishEdit()},children:"CANCEL"})]})]}):Object(m.jsxs)("div",{className:"containerProfiles",children:[Object(m.jsx)("h1",{className:"tittleProfiles",children:"Who's watching Now?"}),!this.props.userProfiles.length&&Object(m.jsx)("h2",{className:"subTittleProfiles",children:"Create a Profile!"}),Object(m.jsxs)("div",{className:"profileOptions",children:[this.props.userProfiles.map((function(t){return Object(m.jsxs)("div",{className:"divProfileAvatar",children:[Object(m.jsx)("div",{onClick:function(){return e.selectProfile(t)},className:"profileAvatar",style:{backgroundImage:"url('".concat(t.avatar,"')")},children:Object(m.jsx)("h3",{className:"profileName",children:t.name})}),Object(m.jsx)(X.b,{className:"deleteIcon",onClick:function(s){return e.options(t._id)}})]},t._id)})),this.props.userProfiles.length<=4&&Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{onClick:function(){return e.createProfile()},className:"addAvatar",children:Object(m.jsx)(X.a,{className:"addIcon"})}),Object(m.jsx)(X.b,{className:"deleteIcon",style:{visibility:"hidden"}})]})]})]})})}}]),s}(n.a.Component),Ne={getUserProfiles:I.getUserProfiles,profileSelected:I.profileSelected,createProfile:I.createProfile,deleteProfile:I.deleteProfile,selectPlan:Q.selectPlan},we=Object(x.b)((function(e){return{userLogged:e.user.userLogged,userProfiles:e.profile.userProfiles,selectedProfile:e.profile.selectedProfile}}),Ne)(ye),ke=s(58),Pe={logUser:Q.logUser},Se=Object(x.b)((function(e){return{userLogged:e.user.userLogged,userProfiles:e.profile.userProfiles}}),Pe)((function(e){var t=Object(r.useState)({email:"",password:""}),s=Object(g.a)(t,2),n=s[0],c=s[1],a=function(e){var t=e.target.name,s=e.target.value;c(Object(i.a)(Object(i.a)({},n),{},Object(ge.a)({},t,s)))},o=function(){var t=Object(S.a)(P.a.mark((function t(){var s,r,c,a,i=arguments;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=i.length>0&&void 0!==i[0]?i[0]:null,r=i.length>1&&void 0!==i[1]?i[1]:null,s&&s.preventDefault(),c=s?n:r,t.next=6,e.logUser(c);case 6:if(a=t.sent){t.next=11;break}return t.abrupt("return",e.history.push("/serverdown"));case 11:if(!a.error){t.next=15;break}R()(a.error,"Verify and try again!","error"),t.next=17;break;case 15:if(!1!==a.premium){t.next=17;break}return t.abrupt("return",e.history.push("/pricing"));case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=function(e){e.profileObj.email&&o(null,{email:e.profileObj.email,password:"asd"+e.profileObj.googleId,country:"null"})},u=function(e){"Enter"===e.key&&o()};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(te,{filter:function(){}}),Object(m.jsx)("div",{className:"siteContainerLogInEma",style:{backgroundImage:'url("https://cdn.computerhoy.com/sites/navi.axelspringer.es/public/media/image/2018/06/series-netflix.jpg")'},children:Object(m.jsxs)("div",{className:"divContainerLogInEma",children:[Object(m.jsx)("h1",{className:"titleFormRegister",children:"Log In"}),Object(m.jsxs)("form",{children:[Object(m.jsx)("input",{type:"text",className:"inputFormRegister",onKeyPress:function(e){return u(e)},placeholder:"E-mail",value:n.email,name:"email",onChange:function(e){return a(e)},autoComplete:"username"}),Object(m.jsx)("input",{type:"password",className:"inputFormRegister",onKeyPress:function(e){return u(e)},placeholder:"Password",value:n.password,name:"password",onChange:function(e){return a(e)},autoComplete:"current-password"}),Object(m.jsx)("p",{className:"botonFormRegister",onClick:o,children:"Log In"})]}),Object(m.jsx)(ke.GoogleLogin,{clientId:"964647088396-9mpm3qcnc13aubmludckjd8lg2bfr9s3.apps.googleusercontent.com",render:function(e){return Object(m.jsxs)("button",{className:"googleButton",onClick:e.onClick,disabled:e.disabled,children:[Object(m.jsx)("svg",{width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg",children:Object(m.jsxs)("g",{fill:"#000",fillRule:"evenodd",children:[Object(m.jsx)("path",{d:"M9 3.48c1.69 0 2.83.73 3.48 1.34l2.54-2.48C13.46.89 11.43 0 9 0 5.48 0 2.44 2.02.96 4.96l2.91 2.26C4.6 5.05 6.62 3.48 9 3.48z",fill:"#EA4335"}),Object(m.jsx)("path",{d:"M17.64 9.2c0-.74-.06-1.28-.19-1.84H9v3.34h4.96c-.1.83-.64 2.08-1.84 2.92l2.84 2.2c1.7-1.57 2.68-3.88 2.68-6.62z",fill:"#4285F4"}),Object(m.jsx)("path",{d:"M3.88 10.78A5.54 5.54 0 0 1 3.58 9c0-.62.11-1.22.29-1.78L.96 4.96A9.008 9.008 0 0 0 0 9c0 1.45.35 2.82.96 4.04l2.92-2.26z",fill:"#FBBC05"}),Object(m.jsx)("path",{d:"M9 18c2.43 0 4.47-.8 5.96-2.18l-2.84-2.2c-.76.53-1.78.9-3.12.9-2.38 0-4.4-1.57-5.12-3.74L.97 13.04C2.45 15.98 5.48 18 9 18z",fill:"#34A853"}),Object(m.jsx)("path",{fill:"none",d:"M0 0h18v18H0z"})]})}),"Log In with Google"]})},onSuccess:l,onFailure:l,cookiePolicy:"single_host_origin"}),Object(m.jsxs)("p",{className:"callToActionForm",children:["New to CloudFlix?",Object(m.jsx)(j.c,{to:"/signup",children:Object(m.jsx)("span",{className:"reedirectFormRegister",children:"Sign Up"})})]})]})})]})})),Ce={newUser:Q.newUser},Le=Object(x.b)(null,Ce)((function(e){var t=Object(r.useState)({email:"",password:"",country:"",premium:!1}),s=Object(g.a)(t,2),n=s[0],c=s[1],a=Object(r.useState)([]),o=Object(g.a)(a,2),l=o[0],u=o[1];Object(r.useEffect)((function(){L.a.get("https://restcountries.eu/rest/v2/all").then((function(e){return u(e.data)})).catch((function(t){return e.history.push("/serverdown")}))}),[]);var d=function(e){var t=e.target.name,s=e.target.value;c(Object(i.a)(Object(i.a)({},n),{},Object(ge.a)({},t,s)))},b=function(){var t=Object(S.a)(P.a.mark((function t(){var s,r,c,a,i=arguments;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=i.length>0&&void 0!==i[0]?i[0]:null,r=i.length>1&&void 0!==i[1]?i[1]:null,s&&s.preventDefault(),c=s?n:r,t.next=6,e.newUser(c);case 6:if(a=t.sent){t.next=11;break}return t.abrupt("return",e.history.push("/serverdown"));case 11:if(!a.message){t.next=15;break}R()(a.message,"","error"),t.next=23;break;case 15:t.t0=a,t.next="The E-mail is already in use"===t.t0?18:"There was an error in the register."===t.t0?20:22;break;case 18:return R()("The E-mail is already in use","Try another one!","error"),t.abrupt("break",23);case 20:return R()("There was an error in the register.","Please verify all the required fields are completed.","error"),t.abrupt("break",23);case 22:return t.abrupt("return",e.history.push("/pricing"));case 23:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=function(e){var t=e.profileObj,s=t.email,r=t.googleId;b(null,{email:s,password:"asd"+r,country:"null"})};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(te,{filter:function(){}}),Object(m.jsx)("div",{className:"siteContainerLogInEma",style:{backgroundImage:'url("https://cdn.computerhoy.com/sites/navi.axelspringer.es/public/media/image/2018/06/series-netflix.jpg")'},children:Object(m.jsxs)("div",{className:"divContainerLogInEma",children:[Object(m.jsx)("h1",{className:"titleFormRegister",children:"Sign Up"}),Object(m.jsxs)("form",{children:[Object(m.jsx)("input",{type:"text",className:"inputFormRegister",name:"email",placeholder:"Please, enter your email adress",value:n.email,onChange:d}),Object(m.jsx)("input",{type:"password",className:"inputFormRegister",name:"password",placeholder:"Please, enter your password",value:n.password,onChange:d}),Object(m.jsxs)("select",{className:"inputFormRegister",name:"country",value:n.country,onChange:d,children:[Object(m.jsx)("option",{children:"Select country"}),l.map((function(e,t){return Object(m.jsx)("option",{value:e.name,children:e.name},t)}))]}),Object(m.jsx)("p",{className:"botonFormRegister",value:"Sign up!",onClick:b,children:"Sign Up"})]}),Object(m.jsx)(ke.GoogleLogin,{clientId:"964647088396-9mpm3qcnc13aubmludckjd8lg2bfr9s3.apps.googleusercontent.com",render:function(e){return Object(m.jsxs)("button",{className:"googleButton",onClick:e.onClick,disabled:e.disabled,children:[Object(m.jsx)("svg",{width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg",children:Object(m.jsxs)("g",{fill:"#000",fillRule:"evenodd",children:[Object(m.jsx)("path",{d:"M9 3.48c1.69 0 2.83.73 3.48 1.34l2.54-2.48C13.46.89 11.43 0 9 0 5.48 0 2.44 2.02.96 4.96l2.91 2.26C4.6 5.05 6.62 3.48 9 3.48z",fill:"#EA4335"}),Object(m.jsx)("path",{d:"M17.64 9.2c0-.74-.06-1.28-.19-1.84H9v3.34h4.96c-.1.83-.64 2.08-1.84 2.92l2.84 2.2c1.7-1.57 2.68-3.88 2.68-6.62z",fill:"#4285F4"}),Object(m.jsx)("path",{d:"M3.88 10.78A5.54 5.54 0 0 1 3.58 9c0-.62.11-1.22.29-1.78L.96 4.96A9.008 9.008 0 0 0 0 9c0 1.45.35 2.82.96 4.04l2.92-2.26z",fill:"#FBBC05"}),Object(m.jsx)("path",{d:"M9 18c2.43 0 4.47-.8 5.96-2.18l-2.84-2.2c-.76.53-1.78.9-3.12.9-2.38 0-4.4-1.57-5.12-3.74L.97 13.04C2.45 15.98 5.48 18 9 18z",fill:"#34A853"}),Object(m.jsx)("path",{fill:"none",d:"M0 0h18v18H0z"})]})}),"Sign up with Google"]})},onSuccess:h,onFailure:h,cookiePolicy:"single_host_origin"}),Object(m.jsxs)("p",{className:"callToActionForm",children:["Already account to CloudFlix?",Object(m.jsx)(j.c,{to:"/login",children:Object(m.jsx)("span",{className:"reedirectFormRegister",children:"Log In"})})]})]})})]})})),Fe={selectPlan:Q.selectPlan},Re=Object(x.b)((function(e){return{userLogged:e.user.userLogged}}),Fe)((function(e){var t=e.selectPlan,s=function(e){t(!!e)};return Object(m.jsxs)("div",{className:"containerPricingCards",children:[Object(m.jsxs)("div",{className:"pricingCard",children:[Object(m.jsxs)("div",{className:"parteDeArribaCard",children:[Object(m.jsx)("h3",{children:"Basic"}),Object(m.jsx)("h3",{children:"Free"})]}),Object(m.jsxs)("div",{className:"contenidoDelPaqueteCard",children:[Object(m.jsx)("h4",{children:"Original Content"}),Object(m.jsx)("h4",{children:"Swich plans anytime"}),Object(m.jsx)("h4",{className:"textoTachadoCards",children:"65+ Films"}),Object(m.jsx)("h4",{className:"textoTachadoCards",children:"65+ Tv Programs"})]}),Object(m.jsx)("div",{className:"lugarDelBotonCard",children:Object(m.jsx)("p",{className:"btn btn-hover",children:Object(m.jsx)("span",{onClick:function(){return s(!1)},children:Object(m.jsx)(j.c,{to:"/",children:"Free Membership"})})})})]}),Object(m.jsxs)("div",{className:"pricingCard borderTopRed",children:[Object(m.jsxs)("div",{className:"parteDeArribaCard",children:[Object(m.jsx)("h3",{children:"Premium"}),Object(m.jsx)("h3",{children:"$4.99"})]}),Object(m.jsxs)("div",{className:"contenidoDelPaqueteCard",children:[Object(m.jsx)("h4",{children:"Original Content"}),Object(m.jsx)("h4",{children:"Swich plans anytime"}),Object(m.jsx)("h4",{children:"65+ Films"}),Object(m.jsx)("h4",{children:"65+ Tv Programs"})]}),Object(m.jsx)("div",{className:"lugarDelBotonCard",children:Object(m.jsx)("p",{className:"btn btn-hover",children:Object(m.jsx)("span",{onClick:function(){return s(!0)},children:Object(m.jsx)(j.c,{to:"/",children:"Change to premium"})})})})]})]})})),Ie=s(124),Ee=function(){return Object(m.jsxs)("div",{className:"containerCompVideo",children:[Object(m.jsx)(j.c,{to:"/",children:Object(m.jsx)("div",{className:"item-action",children:Object(m.jsx)("p",{className:"btn btn-hover",children:Object(m.jsx)("span",{children:"Back to Home"})})})}),Object(m.jsx)("div",{className:"containerVideo",children:Object(m.jsx)(Ie.Player,{className:"videoCompVideoPlayer",playsInline:!0,poster:"/images/logoCloudFlix.png",src:"https://media.w3.org/2010/05/sintel/trailer_hd.mp4"})})]})},Me=(s(288),{filterFilms:_.filterFilms}),_e=Object(x.b)((function(e){return{moviesList:e.audiovisual.movies}}),Me)((function(e){var t=e.match.params.name,s=Object(r.useState)([]),n=Object(g.a)(s,2),c=n[0],a=n[1],i=Object(r.useState)([]),o=Object(g.a)(i,2),l=o[0],u=o[1];console.log(e),Object(r.useEffect)((function(){(function(){var s=Object(S.a)(P.a.mark((function s(){var r;return P.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,e.filterFilms(t);case 2:r=s.sent,a(r);case 4:case"end":return s.stop()}}),s)})));return function(){return s.apply(this,arguments)}})()(),window.scroll({top:0,left:0,behavior:"smooth"})}),[t]);return 0===c.length?Object(m.jsx)(se,{}):Object(m.jsxs)("div",{children:[Object(m.jsx)(te,{filter:function(e){0===e.length?u([]):u(c.filter((function(t){return t.title.toLowerCase().trim().includes(e)})).length>0&&c.filter((function(t){return t.title.toLowerCase().trim().includes(e)})))},props:e.history}),"object"===typeof l&&l.length>0?Object(m.jsx)("div",{className:"carouselBannerless",children:Object(m.jsx)(Z,{title:"Results",array:l})}):l?Object(m.jsx)("div",{className:"carouselBannerless",children:0!==c.length&&Object(m.jsx)(Z,{title:"Films of: ".concat(t),array:c})}):Object(m.jsx)("div",{className:"carouselBannerless",children:Object(m.jsx)("div",{className:"noResultsFounded",children:Object(m.jsx)("h1",{className:"noResults",children:"No results founded."})})}),Object(m.jsx)(v,{})]})})),Ae=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"componentDidMount",value:function(){if(!this.props.userLogged&&localStorage.getItem("token")){var e=JSON.parse(localStorage.getItem("userLogged")),t=Object(i.a)({token:localStorage.getItem("token")},e);this.props.loginForcedLS(t,this.props.history),this.props.getUserProfiles(e.id,t)}if(localStorage.getItem("profile")&&0===this.props.selectedProfile.length){var s=JSON.parse(localStorage.getItem("profile"));this.props.profileSelected(s)}}},{key:"render",value:function(){return localStorage.getItem("token")&&this.props.userLogged&&0===this.props.selectedProfile.length?Object(m.jsx)(we,{}):Object(m.jsx)(j.a,{children:Object(m.jsxs)(b.d,{children:[Object(m.jsx)(b.b,{exact:!0,path:"/",component:ae}),!this.props.userLogged&&Object(m.jsx)(b.b,{path:"/login",component:Se}),!localStorage.getItem("token")&&Object(m.jsx)(b.b,{path:"/signup",component:Le}),localStorage.getItem("token")&&Object(m.jsx)(b.b,{path:"/mylist",component:ve}),localStorage.getItem("token")&&Object(m.jsx)(b.b,{path:"/ProfileSelection",component:we}),Object(m.jsx)(b.b,{path:"/movies",component:de}),Object(m.jsx)(b.b,{path:"/series",component:he}),Object(m.jsx)(b.b,{path:"/popular",component:fe}),Object(m.jsx)(b.b,{path:"/pricing",component:Re}),Object(m.jsx)(b.b,{path:"/video",component:Ee}),Object(m.jsx)(b.b,{path:"/actorFilms/:name",component:_e}),Object(m.jsx)(b.b,{path:"/serverdown",component:re}),Object(m.jsx)(b.a,{to:"/"})]})})}}]),s}(n.a.Component),Te={loginForcedLS:Q.loginForcedLS,profileSelected:I.profileSelected,getUserProfiles:I.getUserProfiles},Be=Object(x.b)((function(e){return{userLogged:e.user.userLogged,selectedProfile:e.profile.selectedProfile}}),Te)(Ae),De=s(41),Ue={},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FILTER_ACTORS":return Object(i.a)(Object(i.a)({},e),{},{movies:e.movies.filter((function(e){return e.cast===t.payload}))});default:return e}},We={userProfiles:[],selectedProfile:[],greetings:!1},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_PROFILES":return Object(i.a)(Object(i.a)({},e),{},{userProfiles:t.payload});case"SELECTED_PROFILE":return localStorage.setItem("profile",JSON.stringify({_id:t.payload._id,name:t.payload.name,avatar:t.payload.avatar,myList:t.payload.myList,kids:t.payload.kids})),Object(i.a)(Object(i.a)({},e),{},{selectedProfile:t.payload,greetings:!0});case"UNSELECT_PROFILE":return Object(i.a)(Object(i.a)({},e),{},{selectedProfile:[]});case"BACK_WELCOME":return Object(i.a)(Object(i.a)({},e),{},{greetings:!1});default:return e}},Ge={userLogged:null},Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_USER":return localStorage.setItem("userLogged",JSON.stringify({id:t.payload.id,premium:t.payload.premium})),localStorage.setItem("token",t.payload.token),Object(i.a)(Object(i.a)({},e),{},{userLogged:t.payload});case"LOGOUT_USER":return localStorage.clear(),Object(i.a)(Object(i.a)({},e),{},{userLogged:null});case"CHANGE_MEMBERTYPE":return Object(i.a)(Object(i.a)({},e),{},{userLogged:Object(i.a)(Object(i.a)({},e.userLogged),{},{premium:t.payload})});default:return e}},Ke=Object(De.combineReducers)({user:Je,audiovisual:ze,profile:He}),Ye=s(125),Ve=Object(De.createStore)(Ke,Object(De.applyMiddleware)(Ye.a));a.a.render(Object(m.jsx)(x.a,{store:Ve,children:Object(m.jsx)(Be,{})}),document.getElementById("root"))}},[[289,1,2]]]);
//# sourceMappingURL=main.ee20f238.chunk.js.map